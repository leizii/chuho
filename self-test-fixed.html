<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆç¦¾æœ¬è‰Â·æ¸…æ¹¿å®‰ å¥³æ€§æ¹¿æ°”ä½“è´¨è‡ªæµ‹é—®å·</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            height: 100%;
            overflow-x: hidden;
        }
        
        /* æ¹¿æ°”è‡ªæµ‹é¡µé¢æ ·å¼ */
        .self-test-container {
            width: 100vw;
            min-height: 100vh;
            background: linear-gradient(135deg, #B73E3E 0%, #8B2635 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            overflow-y: auto;
            padding: 2rem 0;
        }
        
        .self-test-logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 2rem;
            z-index: 10;
        }
        
        .self-test-logo-image {
            width: 100px;
            height: auto;
            opacity: 0.9;
        }
        
        .self-test-logo-tagline {
            font-family: 'Noto Serif SC', serif;
            font-size: 0.9rem;
            font-weight: bold;
            color: #F5E6B8;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            letter-spacing: 0.1em;
            margin-top: 0.5rem;
            text-align: center;
        }
        
        .self-test-content {
            width: 90%;
            max-width: 800px;
            position: relative;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            margin-top: 0;
            padding: 2rem;
            padding-bottom: 6rem;
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #FFD700;
        }
        
        .test-title {
            font-family: 'Noto Serif SC', serif;
            font-size: clamp(1.5rem, 3vw, 2rem);
            color: #F5E6B8;
            margin-bottom: 1rem;
            letter-spacing: 0.1em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .test-subtitle {
            font-family: 'Noto Serif SC', sans-serif;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            color: #FFD700;
            letter-spacing: 0.05em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            line-height: 1.6;
        }
        
        .question-container {
            margin-bottom: 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            border-left: 4px solid #FFD700;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .question-number {
            font-family: 'Noto Serif SC', serif;
            font-size: 1rem;
            color: #FFD700;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .question-text {
            font-family: 'Noto Serif SC', sans-serif;
            font-size: 1rem;
            color: #F5E6B8;
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        
        .answer-options {
            display: flex;
            gap: 1rem;
        }
        
        .answer-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.5);
            color: #F5E6B8;
            padding: 0.8rem 1.5rem;
            font-family: 'Noto Serif SC', sans-serif;
            font-size: 0.9rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            letter-spacing: 0.05em;
            min-width: 80px;
        }
        
        .answer-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: #FFD700;
        }
        
        .answer-btn.selected {
            background: #FFD700;
            border-color: #FFD700;
            color: #8B2635;
            font-weight: bold;
        }
        
        .test-progress {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        
        .progress-text {
            font-family: 'Noto Serif SC', sans-serif;
            color: #FFD700;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #FFD700 0%, #FFF8DC 100%);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }
        
        .test-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(245, 230, 184, 0.3);
        }
        
        .nav-test-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid #F5E6B8;
            color: #F5E6B8;
            padding: 0.8rem 1.5rem;
            font-family: 'Noto Serif SC', serif;
            font-size: 1rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            letter-spacing: 0.1em;
        }
        
        .nav-test-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);
        }
        
        .nav-test-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* ç»“æœé¡µé¢æ ·å¼ */
        .result-container {
            text-align: center;
        }
        
        .result-title {
            font-family: 'Noto Serif SC', serif;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            color: #F5E6B8;
            margin-bottom: 1.5rem;
            letter-spacing: 0.1em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .result-description {
            font-family: 'Noto Serif SC', sans-serif;
            font-size: 1.1rem;
            color: #FFD700;
            margin-bottom: 2rem;
            line-height: 1.8;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .recommendation-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 215, 0, 0.3) 100%);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 1.5rem;
            border: 2px solid #FFD700;
            backdrop-filter: blur(5px);
            text-align: left;
        }
        
        .recommendation-title {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.4rem;
            color: #F5E6B8;
            margin-bottom: 1rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            font-weight: bold;
        }
        
        .recommendation-text {
            font-family: 'Noto Serif SC', sans-serif;
            font-size: 1rem;
            color: #F5E6B8;
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .symptoms-list {
            margin-bottom: 1.5rem;
        }
        
        .symptom-item {
            font-family: 'Noto Serif SC', sans-serif;
            font-size: 0.95rem;
            color: #F5E6B8;
            line-height: 1.5;
            margin-bottom: 0.5rem;
            padding-left: 1rem;
        }
        
        .product-info-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            margin-top: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .product-name {
            font-family: 'Noto Serif SC', serif;
            font-size: 1rem;
            color: #FFD700;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .product-title-highlight {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.2rem;
            color: #F5E6B8;
            margin-bottom: 1rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .product-details {
            margin-bottom: 1rem;
        }
        
        .detail-item {
            font-family: 'Noto Serif SC', sans-serif;
            font-size: 0.9rem;
            color: #F5E6B8;
            line-height: 1.6;
            margin-bottom: 0.5rem;
        }
        
        .detail-item strong {
            color: #FFD700;
        }
        
        .product-slogan {
            font-family: 'Noto Serif SC', serif;
            font-size: 1rem;
            color: #FFD700;
            margin-bottom: 1.5rem;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .action-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .product-link-btn {
            border: none;
            padding: 0.8rem 1.5rem;
            font-family: 'Noto Serif SC', serif;
            font-size: 0.9rem;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.05em;
            flex: 1;
            min-width: 150px;
        }
        
        .product-link-btn.primary {
            background: #FFD700;
            color: #8B2635;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        }
        
        .product-link-btn.primary:hover {
            background: #FFF8DC;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.6);
        }
        
        .product-link-btn.secondary {
            background: rgba(255, 255, 255, 0.2);
            color: #F5E6B8;
            border: 2px solid #FFD700;
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.2);
        }
        
        .product-link-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 255, 255, 0.4);
        }
        
        .back-navigation {
            position: absolute;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid #F5E6B8;
            color: #F5E6B8;
            padding: 0.8rem 1.5rem;
            font-family: 'Noto Serif SC', serif;
            font-size: 1rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            letter-spacing: 0.1em;
        }
        
        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .self-test-content {
                width: 98%;
                padding: 1rem;
                padding-bottom: 5rem;
            }
            
            .answer-options {
                flex-direction: column;
                gap: 0.8rem;
            }
            
            .answer-btn {
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
            }
            
            .test-navigation {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-test-btn {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            
            .self-test-logo-image {
                width: 80px;
            }
            
            .self-test-logo-tagline {
                font-size: 0.8rem;
            }
            
            .question-container {
                padding: 1rem;
            }
            
            .test-title {
                font-size: 1.3rem;
            }
            
            .test-subtitle {
                font-size: 0.85rem;
            }
            
            .recommendation-card {
                padding: 1.5rem;
            }
            
            .recommendation-title {
                font-size: 1.2rem;
            }
            
            .product-info-section {
                padding: 1rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .product-link-btn {
                min-width: auto;
                padding: 0.7rem 1rem;
                font-size: 0.85rem;
            }
        }
        
        @media (max-width: 480px) {
            .self-test-logo-image {
                width: 70px;
            }
            
            .self-test-logo-tagline {
                font-size: 0.6rem;
            }
            
            .question-container {
                padding: 1rem;
            }
            
            .test-title {
                font-size: 1.3rem;
            }
            
            .test-subtitle {
                font-size: 0.85rem;
            }
            
            .recommendation-card {
                padding: 1rem;
            }
            
            .recommendation-title {
                font-size: 1.1rem;
            }
            
            .product-info-section {
                padding: 0.8rem;
            }
            
            .product-title-highlight {
                font-size: 1.1rem;
            }
            
            .detail-item {
                font-size: 0.85rem;
            }
            
            .product-link-btn {
                padding: 0.6rem 0.8rem;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="self-test-container">
        <!-- è‡ªæµ‹é¡µé¢LOGO -->
        <div class="self-test-logo">
            <img src="11031748184859_.pic_hd-removebg-preview.png" alt="åˆç¦¾æœ¬è‰ LOGO" class="self-test-logo-image">
            <div class="self-test-logo-tagline">èª¿é¤Šæ–¼æœ¬ï¼Œè¼•ç›ˆæ–¼å¿ƒ</div>
        </div>
        
        <div class="self-test-content">
            <!-- è¿”å›æŒ‰é’® -->
            <div class="back-navigation">
                <button class="back-btn" onclick="window.location.href='index.html'">è¿”å›é¦–é¡µ</button>
            </div>
            
            <!-- æµ‹è¯•æ ‡é¢˜ -->
            <div class="test-header">
                <div class="test-title">åˆç¦¾æœ¬è‰Â·æ¸…æ¹¿å®‰ å¥³æ€§æ¹¿æ°”ä½“è´¨è‡ªæµ‹é—®å·</div>
                <div class="test-subtitle">
                    è¯·æ ¹æ®æ‚¨æœ€è¿‘1ä¸ªæœˆçš„èº«ä½“çŠ¶å†µåˆ¤æ–­ä»¥ä¸‹æè¿°æ˜¯å¦ç¬¦åˆæ‚¨çš„æƒ…å†µã€‚<br>
                    æ¯é¢˜è¯·é€‰æ‹©"æ˜¯"æˆ–"å¦"ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨æ¨èé€‚åˆæ‚¨çš„è°ƒç†ç‰ˆæœ¬ã€‚
                </div>
            </div>
            
            <!-- è¿›åº¦æ¡ -->
            <div class="test-progress">
                <div class="progress-text">æµ‹è¯•è¿›åº¦ï¼š<span id="current-question">1</span> / 16</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>
            
            <!-- é—®é¢˜å®¹å™¨ -->
            <div id="question-area">
                <!-- é—®é¢˜å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- å¯¼èˆªæŒ‰é’® -->
            <div class="test-navigation">
                <button class="nav-test-btn" id="prev-btn" onclick="previousQuestion()" disabled>ä¸Šä¸€é¢˜</button>
                <button class="nav-test-btn" id="next-btn" onclick="nextQuestion()" disabled>ä¸‹ä¸€é¢˜</button>
                <button class="nav-test-btn" id="submit-btn" onclick="submitTest()" style="display: none;">æŸ¥çœ‹ç»“æœ</button>
            </div>
            
            <!-- ç»“æœé¡µé¢ -->
            <div id="result-area" style="display: none;">
                <div class="result-container">
                    <div class="result-title" id="result-title"></div>
                    <div class="result-description" id="result-description"></div>
                    <div id="recommendation-cards"></div>
                    <button class="nav-test-btn" onclick="restartTest()">é‡æ–°æµ‹è¯•</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ¹¿æ°”è‡ªæµ‹é—®é¢˜æ•°æ®
        const questions = [
            { id: 1, text: "æ—©ä¸Šèµ·åºŠæ—¶ç»å¸¸æ„Ÿåˆ°çœ¼ç›æµ®è‚¿ã€è„¸éƒ¨è‚¿èƒ€", category: "æµ®è‚¿" },
            { id: 2, text: "èº«ä½“ç»å¸¸æ„Ÿåˆ°æ²‰é‡ã€ç–²å€¦ï¼Œå››è‚¢æ— åŠ›", category: "æ ‡å‡†" },
            { id: 3, text: "èˆŒè‹”åšè…»ï¼Œå£ä¸­æœ‰é»è…»æ„Ÿ", category: "æ ‡å‡†" },
            { id: 4, text: "å¤§ä¾¿é»è…»ä¸æˆå½¢ï¼Œæ’ä¾¿åä»æœ‰ä¸å°½æ„Ÿ", category: "æ ‡å‡†" },
            { id: 5, text: "å°è…¿ã€è„šè¸å®¹æ˜“æ°´è‚¿ï¼ŒæŒ‰å‹æœ‰å‡¹é™·", category: "æµ®è‚¿" },
            { id: 6, text: "ç»å¸¸æ„Ÿåˆ°èƒ¸é—·ã€è…¹èƒ€ï¼Œé£Ÿæ¬²ä¸æŒ¯", category: "æ ‡å‡†" },
            { id: 7, text: "çš®è‚¤æ²¹è…»ï¼Œå®¹æ˜“é•¿ç—˜ç—˜æˆ–æ¹¿ç–¹", category: "æ¹¿çƒ­" },
            { id: 8, text: "æœˆç»å‰åèº«ä½“æµ®è‚¿æ˜æ˜¾åŠ é‡", category: "æµ®è‚¿" },
            { id: 9, text: "ç»å¸¸æ„Ÿåˆ°å£è‹¦ã€å£è‡­ï¼Œæˆ–å£å¹²ä½†ä¸æƒ³å–æ°´", category: "æ¹¿çƒ­" },
            { id: 10, text: "æ€•å†·ï¼Œæ‰‹è„šç»å¸¸å†°å‡‰", category: "è™šæ¹¿" },
            { id: 11, text: "å®¹æ˜“è…¹æ³»ï¼Œç‰¹åˆ«æ˜¯åƒå‡‰é£Ÿå", category: "è™šæ¹¿" },
            { id: 12, text: "ç™½å¸¦é‡å¤šï¼Œè´¨åœ°é»ç¨ ", category: "æ ‡å‡†" },
            { id: 13, text: "ç»å¸¸ä¾¿ç§˜ï¼Œå¤§ä¾¿å¹²ç»“éš¾æ’", category: "æ¹¿çƒ­" },
            { id: 14, text: "å®¹æ˜“æ„Ÿå†’ï¼ŒæŠµæŠ—åŠ›è¾ƒå¼±", category: "è™šæ¹¿" },
            { id: 15, text: "ç¡çœ è´¨é‡å·®ï¼Œå¤šæ¢¦æ˜“é†’", category: "æ ‡å‡†" },
            { id: 16, text: "æƒ…ç»ªå®¹æ˜“çƒ¦èºï¼Œå‹åŠ›å¤§æ—¶ç—‡çŠ¶åŠ é‡", category: "æ¹¿çƒ­" }
        ];

        // æµ‹è¯•çŠ¶æ€
        let currentQuestionIndex = 0;
        let answers = {};

        // åˆå§‹åŒ–æµ‹è¯•
        function initializeTest() {
            currentQuestionIndex = 0;
            answers = {};
            document.getElementById('question-area').style.display = 'block';
            document.getElementById('result-area').style.display = 'none';
            showQuestion(0);
            updateProgress();
            updateNavigation();
        }

        // æ˜¾ç¤ºé—®é¢˜
        function showQuestion(index) {
            const question = questions[index];
            const questionArea = document.getElementById('question-area');
            
            questionArea.innerHTML = `
                <div class="question-container">
                    <div class="question-number">ç¬¬ ${index + 1} é¢˜</div>
                    <div class="question-text">${question.text}</div>
                    <div class="answer-options">
                        <button class="answer-btn ${answers[index] === true ? 'selected' : ''}" onclick="selectAnswer(${index}, true)">æ˜¯</button>
                        <button class="answer-btn ${answers[index] === false ? 'selected' : ''}" onclick="selectAnswer(${index}, false)">å¦</button>
                    </div>
                </div>
            `;
            
            document.getElementById('current-question').textContent = index + 1;
        }

        // é€‰æ‹©ç­”æ¡ˆ
        function selectAnswer(questionIndex, answer) {
            answers[questionIndex] = answer;
            
            // æ›´æ–°æŒ‰é’®æ ·å¼
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            
            // å»¶è¿Ÿè‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€é¢˜æˆ–æäº¤æµ‹è¯•
            setTimeout(() => {
                if (currentQuestionIndex < questions.length - 1) {
                    // å¦‚æœä¸æ˜¯æœ€åä¸€é¢˜ï¼Œè‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€é¢˜
                    nextQuestion();
                } else {
                    // å¦‚æœæ˜¯æœ€åä¸€é¢˜ï¼Œè‡ªåŠ¨æäº¤æµ‹è¯•
                    submitTest();
                }
            }, 500); // å»¶è¿Ÿ500æ¯«ç§’ï¼Œè®©ç”¨æˆ·çœ‹åˆ°é€‰æ‹©æ•ˆæœ
            
            updateNavigation();
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
        }

        // æ›´æ–°å¯¼èˆªæŒ‰é’®
        function updateNavigation() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const submitBtn = document.getElementById('submit-btn');
            
            prevBtn.disabled = currentQuestionIndex === 0;
            
            // éšè—ä¸‹ä¸€é¢˜å’ŒæŸ¥çœ‹ç»“æœæŒ‰é’®ï¼Œå› ä¸ºç°åœ¨æ˜¯è‡ªåŠ¨è·³è½¬
            nextBtn.style.display = 'none';
            submitBtn.style.display = 'none';
        }

        // ä¸Šä¸€é¢˜
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
                updateProgress();
                updateNavigation();
            }
        }

        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1 && answers[currentQuestionIndex] !== undefined) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
                updateProgress();
                updateNavigation();
            }
        }

        // æäº¤æµ‹è¯•
        function submitTest() {
            if (answers[currentQuestionIndex] !== undefined) {
                calculateResults();
                showResults();
            }
        }

        // è®¡ç®—ç»“æœ
        function calculateResults() {
            const scores = {
                "æ ‡å‡†": 0,
                "è™šæ¹¿": 0,
                "æ¹¿çƒ­": 0,
                "æµ®è‚¿": 0
            };

            // ç»Ÿè®¡å„ç±»å‹å¾—åˆ†
            questions.forEach((question, index) => {
                if (answers[index] === true) {
                    scores[question.category]++;
                }
            });

            // æ‰¾å‡ºå¾—åˆ†æœ€é«˜çš„ç±»å‹
            let maxScore = 0;
            let recommendedType = "æ ‡å‡†";
            
            Object.keys(scores).forEach(type => {
                if (scores[type] > maxScore) {
                    maxScore = scores[type];
                    recommendedType = type;
                } else if (scores[type] === maxScore && scores[type] >= 2) {
                    // å¦‚æœå¾—åˆ†ç›¸åŒä¸”â‰¥2ï¼Œä¼˜å…ˆæ¨èè™šæ¹¿å‹
                    if (type === "è™šæ¹¿") {
                        recommendedType = "è™šæ¹¿";
                    }
                }
            });

            // å¦‚æœæ‰€æœ‰å¾—åˆ†éƒ½å°äº2ï¼Œæ¨èæ ‡å‡†ç‰ˆ
            if (maxScore < 2) {
                recommendedType = "æ ‡å‡†";
            }

            return { scores, recommendedType, maxScore };
        }

        // æ˜¾ç¤ºç»“æœ
        function showResults() {
            const result = calculateResults();
            const { scores, recommendedType, maxScore } = result;
            
            document.getElementById('question-area').style.display = 'none';
            document.getElementById('result-area').style.display = 'block';
            
            // éšè—æµ‹è¯•å¯¼èˆªæŒ‰é’®
            document.querySelector('.test-navigation').style.display = 'none';
            
            // è®¾ç½®ç»“æœæ ‡é¢˜å’Œæè¿°
            const resultTitle = document.getElementById('result-title');
            const resultDescription = document.getElementById('result-description');
            
            resultTitle.textContent = `æµ‹è¯•å®Œæˆï¼æ¨èï¼šæ¸…æ¹¿å®‰Â·${getTypeDisplayName(recommendedType)}`;
            
            let description = `å»ºè®®æ‚¨é€‰æ‹©æ¸…æ¹¿å®‰Â·${getTypeDisplayName(recommendedType)}è¿›è¡Œè°ƒç†ã€‚`;
            
            resultDescription.innerHTML = description;
            
            // ç”Ÿæˆæ¨èå¡ç‰‡
            generateRecommendationCard(recommendedType);
        }

        // è·å–ç±»å‹æ˜¾ç¤ºåç§°
        function getTypeDisplayName(type) {
            const displayNames = {
                "æ ‡å‡†": "æ ‡å‡†ç‰ˆ",
                "è™šæ¹¿": "è™šæ¹¿ç‰ˆ", 
                "æ¹¿çƒ­": "æ¹¿çƒ­ç‰ˆ",
                "æµ®è‚¿": "æµ®è‚¿ç‰ˆ"
            };
            return displayNames[type] || "æ ‡å‡†ç‰ˆ";
        }

        // ç”Ÿæˆæ¨èå¡ç‰‡
        function generateRecommendationCard(type) {
            const recommendations = {
                "æ ‡å‡†": {
                    icon: "ğŸŒ¿",
                    title: "æ—¥å¸¸æ¹¿é‡å‹ Â· æ°”æ»å›°å€¦ä½“",
                    description: "ä½ å±äºæ—¥å¸¸ä»£è°¢å‹æ¹¿æ°”ä½“è´¨ï¼Œå¸¸è§äºï¼š",
                    symptoms: [
                        "æ˜“ç–²åŠ³ã€ç²¾ç¥å·®ã€é¥­åå‘å›°",
                        "èˆŒè‹”åšè…»ã€å£ä¸­å¼‚å‘³", 
                        "è‚ èƒƒå¸æ”¶å·®ã€æ˜“æ°´è‚¿ã€æ˜“å¢é‡"
                    ],
                    product: "åˆç¦¾æœ¬è‰Â·æ¸…æ¹¿å®‰ï½œæ ‡å‡†ç‰ˆ",
                    effect: "å¥è„¾ç¥›æ¹¿ + æ¸©å’Œä»£è°¢è°ƒç†",
                    ingredients: "ç™½æœ¯ã€èŒ¯è‹“ã€è–è‹¡ä»ã€è·å¶ã€é™ˆçš®",
                    suitable: "æ—¥å¸¸ä»£è°¢æ…¢ã€æ¹¿é‡ä½“è™šå¥³æ€§",
                    slogan: "æ¯æ—¥ä¸¤ç²’ï¼Œå¼€å¯è½»å…»æ–°æ—¥å¸¸",
                    buttons: ["æŸ¥çœ‹æ ‡å‡†ç‰ˆé…æ–¹", "åŠ å…¥è´­ç‰©è½¦äº«ä¼˜æƒ "]
                },
                "è™šæ¹¿": {
                    icon: "â„ï¸",
                    title: "è™šæ¹¿å‹ Â· å¯’æ¹¿å›°è„¾ä½“",
                    description: "ä½ å±äºä½“å¯’è„¾è™šå‹æ¹¿æ°”ä½“è´¨ï¼Œå¸¸è§äºï¼š",
                    symptoms: [
                        "æ€•å†·ã€æ‰‹è„šå‡‰ã€æ˜“æ„Ÿå†’",
                        "åƒå‡‰æ˜“è…¹æ³»ã€ä½“åŠ›å·®ã€å…ç–«ä½",
                        "æ°”è‰²åç™½ã€ç–²å€¦ã€èˆŒè‹”åš"
                    ],
                    product: "åˆç¦¾æœ¬è‰Â·æ¸…æ¹¿å®‰ï½œè™šæ¹¿ç‰ˆ",
                    effect: "æ¸©é˜³å¥è„¾ + ç¥›å¯’ç¥›æ¹¿",
                    ingredients: "é»„èŠªã€å¹²å§œã€ç™½æœ¯ã€å¤ªå­å‚ã€èŒ¯è‹“",
                    suitable: "ä½“å¯’è™šå¼±ã€æ¹¿æ°”é‡ã€é•¿æœŸæ€•å†·è€…",
                    slogan: "æš–ä¸­æ’æ¹¿ï¼Œæ‰¶æ­£é©±å¯’ï¼Œè°ƒå‡ºå…ƒæ°”",
                    buttons: ["æŸ¥çœ‹è™šæ¹¿ç‰ˆè¯¦æƒ…", "è”ç³»é¡¾é—®å®šåˆ¶å‘¨æœŸæ–¹æ¡ˆ"]
                },
                "æ¹¿çƒ­": {
                    icon: "ğŸ”¥",
                    title: "æ¹¿çƒ­å‹ Â· å†…æ¹¿ä¸Šç«ä½“",
                    description: "ä½ å±äºæ¹¿çƒ­å†…è•´å‹æ¹¿æ°”ä½“è´¨ï¼Œå¸¸è§äºï¼š",
                    symptoms: [
                        "å£è‹¦å£å¹²ã€å£æ°”é‡",
                        "é¢éƒ¨æ²¹è„‚æ—ºã€æ˜“ç—˜ã€ç²‰åˆº",
                        "å¤§ä¾¿å¹²ã€ä¾¿ç§˜ã€èˆŒè‹”é»„è…»"
                    ],
                    product: "åˆç¦¾æœ¬è‰Â·æ¸…æ¹¿å®‰ï½œæ¹¿çƒ­ç‰ˆ",
                    effect: "æ¸…çƒ­åŒ–æ¹¿ + é€šè…‘æ’æ¯’",
                    ingredients: "ä½©å…°ã€åšæœ´ã€æ €å­ã€é»„è¿ã€é™ˆçš®",
                    suitable: "ä½“å†…æ¹¿çƒ­éƒç»“ã€æ˜“ä¸Šç«ã€æ’æ¯’å·®äººç¾¤",
                    slogan: "æ¸…æ¹¿ä¸ä¼¤è„¾ï¼Œç¥›çƒ­ä¸ä¸Šç«",
                    buttons: ["å‰å¾€æ¹¿çƒ­ç‰ˆäº§å“é¡µ", "å’¨è¯¢é€‚åˆçš„è°ƒç†å‘¨æœŸ"]
                },
                "æµ®è‚¿": {
                    icon: "ğŸŒŠ",
                    title: "æµ®è‚¿å‹ Â· æ°´æ¹¿å›°ä½“",
                    description: "ä½ å±äºæ°´æ¹¿åœæ»å‹æ¹¿æ°”ä½“è´¨ï¼Œå¸¸è§äºï¼š",
                    symptoms: [
                        "æ™¨èµ·çœ¼è‚¿ã€è…¿è„šæµ®è‚¿",
                        "å–æ°´æ˜“èƒ€ï¼Œæœˆç»æœŸæ›´æ˜æ˜¾",
                        "é¢éƒ¨æ°´æ¶¦å´ä¸é€šé€ï¼Œä½“æ€æ²‰é‡"
                    ],
                    product: "åˆç¦¾æœ¬è‰Â·æ¸…æ¹¿å®‰ï½œæµ®è‚¿ç‰ˆ",
                    effect: "åˆ©æ°´æ¸—æ¹¿ + é€šä¾¿æ¸…è‚ ",
                    ingredients: "æ³½æ³»ã€è½¦å‰è‰ã€èµ¤å°è±†ã€è–è‹¡ä»ã€èŒ¯è‹“",
                    suitable: "é¢éƒ¨æµ®è‚¿ã€å°è…¿æŒ‰å‹æ˜“é™·ã€ä»£è°¢ç¼“æ…¢äººç¾¤",
                    slogan: "è½»ç›ˆä»£è°¢ï¼Œä»æ’æ°´å¼€å§‹",
                    buttons: ["ç«‹å³æŸ¥çœ‹äº§å“è¯¦æƒ…", "å’¨è¯¢è°ƒç†æ–¹æ¡ˆ"]
                }
            };
            
            const recommendation = recommendations[type];
            const cardsContainer = document.getElementById('recommendation-cards');
            
            cardsContainer.innerHTML = `
                <div class="recommendation-card">
                    <div class="recommendation-title">${recommendation.icon} ${recommendation.title}</div>
                    <div class="recommendation-text">${recommendation.description}</div>
                    <div class="symptoms-list">
                        ${recommendation.symptoms.map(symptom => `<div class="symptom-item">â€¢ ${symptom}</div>`).join('')}
                    </div>
                    
                    <div class="product-info-section">
                        <div class="product-name">ğŸ’¡ æ¨èä½¿ç”¨ï¼š</div>
                        <div class="product-title-highlight">${recommendation.product}</div>
                        
                        <div class="product-details">
                            <div class="detail-item"><strong>æ ¸å¿ƒåŠŸæ•ˆï¼š</strong>${recommendation.effect}</div>
                            <div class="detail-item"><strong>ç²¾é€‰æˆåˆ†ï¼š</strong>${recommendation.ingredients}</div>
                            <div class="detail-item"><strong>é€‚åˆäººç¾¤ï¼š</strong>${recommendation.suitable}</div>
                        </div>
                        
                        <div class="product-slogan">ğŸ‘‰ ${recommendation.slogan}</div>
                        
                        <div class="action-buttons">
                            <button class="product-link-btn primary" onclick="goToProduct('${type}', 0)">${recommendation.buttons[0]}</button>
                            <button class="product-link-btn secondary" onclick="goToProduct('${type}', 1)">${recommendation.buttons[1]}</button>
                        </div>
                    </div>
                </div>
            `;
        }

        // è·³è½¬åˆ°äº§å“é¡µé¢
        function goToProduct(type, buttonIndex) {
            const recommendations = {
                "æ ‡å‡†": ["æŸ¥çœ‹æ ‡å‡†ç‰ˆé…æ–¹", "åŠ å…¥è´­ç‰©è½¦äº«ä¼˜æƒ "],
                "è™šæ¹¿": ["æŸ¥çœ‹è™šæ¹¿ç‰ˆè¯¦æƒ…", "è”ç³»é¡¾é—®å®šåˆ¶å‘¨æœŸæ–¹æ¡ˆ"],
                "æ¹¿çƒ­": ["å‰å¾€æ¹¿çƒ­ç‰ˆäº§å“é¡µ", "å’¨è¯¢é€‚åˆçš„è°ƒç†å‘¨æœŸ"],
                "æµ®è‚¿": ["ç«‹å³æŸ¥çœ‹äº§å“è¯¦æƒ…", "å’¨è¯¢è°ƒç†æ–¹æ¡ˆ"]
            };
            
            const buttonText = recommendations[type][buttonIndex];
            // è¿™é‡Œå¯ä»¥æ·»åŠ è·³è½¬åˆ°å…·ä½“äº§å“é¡µé¢çš„é€»è¾‘
            alert(`${buttonText} - æ¸…æ¹¿å®‰Â·${getTypeDisplayName(type)}`);
        }

        // é‡æ–°æµ‹è¯•
        function restartTest() {
            // é‡æ–°æ˜¾ç¤ºæµ‹è¯•å¯¼èˆªæŒ‰é’®
            document.querySelector('.test-navigation').style.display = 'flex';
            initializeTest();
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–æµ‹è¯•
        window.addEventListener('load', function() {
            console.log('æ¹¿æ°”è‡ªæµ‹é¡µé¢åŠ è½½å®Œæˆ');
            initializeTest();
        });
        
        // æ·»åŠ é”™è¯¯å¤„ç†
        window.addEventListener('error', function(e) {
            console.error('é¡µé¢é”™è¯¯:', e.error);
        });
    </script>
</body>
</html> 
